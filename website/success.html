<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Order Confirmed — Download Ready</title>

  <!-- Do not index the success page -->
  <meta name="robots" content="noindex, nofollow" />

  <!-- Canonical just to be tidy -->
  <link rel="canonical" href="https://dynastytek.github.io/ai-auto-business/success.html" />

  <!-- Tailwind (same stack as homepage) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif; }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 text-slate-50">
  <main class="mx-auto max-w-3xl px-6 py-16 text-center">
    <div class="rounded-2xl border border-white/10 bg-white/5 px-6 py-10 backdrop-blur">
      <div class="mx-auto mb-4 h-12 w-12 rounded-full bg-emerald-500/20 grid place-items-center">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" class="text-emerald-300">
          <path stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                d="M20 7L9 18l-5-5"/>
        </svg>
      </div>
      <h1 class="text-3xl md:text-4xl font-extrabold">You're all set—download is ready</h1>
      <p class="mt-3 text-slate-300">
        Thanks for your purchase! Your file opens automatically. If it doesn't, use the button below.
      </p>

      <div class="mt-8 flex flex-col sm:flex-row gap-3 justify-center">
        <a id="downloadBtn"
           href="/7-day-social-launch-plan.pdf"
           class="inline-flex items-center justify-center rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white font-semibold px-6 py-3 transition">
          Open my download
        </a>
        <a href="./"
           class="inline-flex items-center justify-center rounded-lg border border-white/20 hover:border-white/40 text-slate-100 px-6 py-3 transition">
          Return to site
        </a>
      </div>

      <p id="status" class="mt-4 text-sm text-slate-400">
        Preparing your download…
      </p>

      <div class="mt-8 text-left text-sm text-slate-400/90">
        <p class="font-semibold text-slate-300">Having trouble?</p>
        <ul class="list-disc pl-5 mt-2 space-y-1">
          <li>Pop-ups may be blocked—use the button above.</li>
          <li>Check your downloads folder if the file opened in another tab.</li>
          <li>Keep this page open until your download starts.</li>
        </ul>
      </div>
    </div>
  </main>

  <script>
    (function () {
      const FALLBACK = '/7-day-social-launch-plan.pdf';
      const btn = document.getElementById('downloadBtn');
      const status = document.getElementById('status');

      function safeOpen(url) {
        try { window.location.assign(url); } catch (e) { /* ignore */ }
      }

      function setLink(url) {
        btn.href = url;
        status.textContent = 'Download link is ready.';
        // gentle auto-redirect after 1.2s
        setTimeout(() => safeOpen(url), 1200);
      }

      // Try product.txt → PAYHIP_PRODUCT_URL=...
      fetch('product.txt', { cache: 'no-store' })
        .then(r => r.ok ? r.text() : Promise.reject(new Error('no product.txt')))
        .then(txt => {
          const m = txt.match(/PAYHIP_PRODUCT_URL\s*=\s*(.+)/);
          const url = m && m[1] ? m[1].trim() : '';
          if (/^https?:\/\//i.test(url)) {
            setLink(url);
          } else {
            setLink(FALLBACK);
          }
        })
        .catch(() => setLink(FALLBACK));
    })();
  </script>
</body>
</html>